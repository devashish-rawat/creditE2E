<template>
  <template if:true={sectionsWithBlocks}>
    <template for:each={sectionsWithBlocks} for:item="sectionWithBlocks">
      <div key={sectionWithBlocks.section.Id}>
        <lightning-card>
          <h3 slot="title">
            <template if:true={sectionWithBlocks.section.Icon__r}>
              <lightning-icon
                class="slds-var-m-right_small"
                icon-name={sectionWithBlocks.section.Icon__r.Type__c}
                size="small"
              ></lightning-icon>
            </template>
            {sectionWithBlocks.section.Header__c}
          </h3>
          <template for:each={sectionWithBlocks.blocks} for:item="block">
            <p key={block.blockId} class="slds-var-p-left_xx-large">
              <lightning-formatted-rich-text
                value={block.description}
              ></lightning-formatted-rich-text>
            </p>
          </template>
        </lightning-card>
      </div>
    </template>
  </template>
</template>